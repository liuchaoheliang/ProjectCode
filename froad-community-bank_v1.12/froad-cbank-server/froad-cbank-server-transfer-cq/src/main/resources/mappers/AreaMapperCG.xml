<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.froad.db.chonggou.mappers.AreaMapperCG">

	<resultMap type="AreaCG" id="areaResultMap">
		<id property="id" column="id" />
		<result property="name" column="name" />
		<result property="clientId" column="client_id" />
		<result property="vagueLetter" column="vague_letter" />
		<result property="treePath" column="tree_path" />
		<result property="parentId" column="parent_id" />
		<result property="treePathName" column="tree_path_name" />
		<result property="isEnable" column="is_enable" />
		<result property="areaCode" column="area_code" />
	</resultMap>


	<!-- 添加  Area -->
	<insert id="addArea" parameterType="AreaCG" useGeneratedKeys="true" keyProperty="id">
		<![CDATA[
			INSERT INTO cb_area (
				client_id,name,vague_letter,tree_path,parent_id,is_enable,tree_path_name,area_code
			) VALUES (
				#{clientId},#{name},#{vagueLetter},#{treePath},#{parentId},#{isEnable},#{treePathName},#{areaCode}
			) 
		]]>
	</insert>


	
	<!-- 查询  Area -->
	<select id="findArea" parameterType="AreaCG" resultMap="areaResultMap">
		SELECT 
            client_id,id,name,vague_letter,tree_path,parent_id,is_enable,tree_path_name,area_code
        FROM cb_area 
		<where>
		<if test="clientId != null">
				 AND client_id = #{clientId}
			</if>
			<if test="id != null">
				 AND id = #{id}
			</if>
			<if test="name != null">
				 AND name = #{name}
			</if>
			<if test="vagueLetter != null">
				 AND vague_letter = #{vagueLetter}
			</if>
			<if test="treePath != null">
				 AND tree_path = #{treePath}
			</if>
			<if test="parentId != null">
				 AND parent_id = #{parentId}
			</if>
			<if test="isEnable != null">
				 AND is_enable = #{isEnable}
			</if>
			<if test="treePathName != null">
					AND tree_path_name = #{treePathName}
			</if>
			<if test="areaCode != null">
				   AND area_code = #{areaCode}
			</if>
		</where>
	</select>
	
	
	<!-- 修改  Area -->
	<update id="updateArea" parameterType="AreaCG">
		UPDATE cb_area  
			<set>
				<if test="name != null">
					 name = #{name},
				</if>
				<if test="vagueLetter != null">
					 vague_letter = #{vagueLetter},
				</if>
				<if test="treePath != null">
					 tree_path = #{treePath},
				</if>
				<if test="parentId != null">
					 parent_id = #{parentId},
				</if>
				<if test="isEnable != null">
					 is_enable = #{isEnable},
				</if>
				<if test="treePathName != null">
					 tree_path_name = #{treePathName},
				</if>
				<if test="areaCode != null">
					 area_code = #{areaCode},
				</if>
				
			</set>
			 where id = #{id}
	</update>




	<!-- 查询  Area -->
	<select id="findAreaById" parameterType="java.lang.Long" resultMap="areaResultMap">
		SELECT 
            id,client_id,name,vague_letter,tree_path,parent_id,is_enable,tree_path_name,area_code
        FROM cb_area 
        WHERE 
            id = #{id}

	</select>
	
	<select id="findallArea"  resultMap="areaResultMap">
		SELECT  * FROM cb_area 

	</select>
	<delete id="deleteArea"  parameterType="java.lang.String">
		delete FROM cb_area where client_id=#{id}

	</delete>
</mapper>

