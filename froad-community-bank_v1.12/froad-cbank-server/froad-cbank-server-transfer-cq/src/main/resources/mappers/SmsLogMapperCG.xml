<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.froad.db.chonggou.mappers.SmsLogMapperCG">

	<resultMap type="SmsLogCG" id="smsLogResultMap">
		<id property="id" column="id" />
		<result property="clientId" column="client_id" />
		<result property="createTime" column="create_time" />
		<result property="expireTime" column="expire_time" />
		<result property="smsType" column="sms_type" />
		<result property="mobile" column="mobile" />
		<result property="content" column="content" />
		<result property="isSuccess" column="is_success" />
		<result property="sendUser" column="send_user" />
		<result property="sendIp" column="send_ip" />
		<result property="isUsed" column="is_used" />
		<result property="code" column="code" />
		<result property="token" column="token" />
		<result property="url" column="url" />
	</resultMap>


	<!-- 添加  SmsLog -->
	<insert id="addSmsLog" parameterType="SmsLogCG" useGeneratedKeys="true" keyProperty="id">
		<![CDATA[
			insert into cb_sms_log (
				client_id,create_time,expire_time,sms_type,mobile,content,is_success,send_user,send_ip,is_used,code,token,url
			) values (
				#{clientId},#{createTime},#{expireTime},#{smsType},#{mobile},#{content},#{isSuccess},#{sendUser},#{sendIp},#{isUsed},#{code},#{token},#{url}
			) 
		]]>
	</insert>


	<!-- 查询  SmsLog -->
	<select id="findSmsLog" parameterType="SmsLogCG" resultMap="smsLogResultMap">
		select 
            id,client_id,create_time,expire_time,sms_type,mobile,content,is_success,send_user,send_ip,is_used,code,token,url 
        from cb_sms_log 
		<where>
			<if test="id != null">
				and id = #{id}
			</if>
			<if test="clientId != null">
				and client_id = #{clientId}
			</if>
			<if test="createTime != null">
				and create_time = #{createTime}
			</if>
			<if test="expireTime != null">
				and expire_time = #{expireTime}
			</if>
			<if test="smsType != null">
				and sms_type = #{smsType}
			</if>
			<if test="mobile != null">
				and mobile = #{mobile}
			</if>
			<if test="content != null">
				and content = #{content}
			</if>
			<if test="isSuccess != null">
				and is_success = #{isSuccess}
			</if>
			<if test="sendUser != null">
				and send_user = #{sendUser}
			</if>
			<if test="sendIp != null">
				and send_ip = #{sendIp}
			</if>
			<if test="isUsed != null">
				and is_used = #{isUsed}
			</if>
			<if test="code != null">
				and code = #{code}
			</if>
			<if test="token != null">
				and token = #{token}
			</if>
		</where>
	</select>
<select id="deleteSmsLog" parameterType="java.lang.String">
    delete from cb_sms_log where client_id=#{id}
</select>
	


</mapper>

