<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.froad.db.chongqing.mappers.MerchantOutletCommentMapper">

	<resultMap type="MerchantOutletComment" id="merchantOutletCommentResultMap">
    	<!-- baseEntity prop -->
        <id property="id" column="id"/>
        <result property="createTime" column="create_time"/>
        <result property="updateTime" column="update_time"/>
        <result property="clientId" column="client_id"/>
		<!-- baseEntity prop -->
		<result property="starLevel" column="star_level" />
		<result property="pricePoint" column="price_point" />
		<result property="productPoint" column="product_point" />
		<result property="qualityPoint" column="quality_point" />
		<result property="environmentPoint" column="environment_point" />
		<result property="serverPoint" column="server_point" />
		<result property="commentDescription" column="comment_description" />
		<result property="merchantId" column="merchant_id" />
		<result property="merchantOutletId" column="merchant_outlet_id" />
		<result property="merchantOutletName" column="merchant_outlet_name" />
		<result property="memberCode" column="member_code" />
		<result property="memberName" column="member_name" />
		<result property="memberMobile" column="member_mobile" />
		<result property="auditStatus" column="audit_status" 
		typeHandler="com.froad.db.extend.EnumTypeHandler"/>
		<result property="auditor" column="auditor" />
		<result property="auditRemark" column="audit_remark" />
		<result property="isDelete" column="is_delete" />
		<result property="orderValue" column="order_value" />
    </resultMap>
    
    <!-- 基础sql 数据新增 必须指明数据列  -->
    <insert id="insert" useGeneratedKeys="true" keyProperty="id">
		insert into cb_merchant_outlet_comment
		(
		 create_time,
		 update_time,
		 client_id,
		 star_level,
		 price_point,
		 product_point,
		 quality_point,
		 environment_point,
		 server_point,
		 comment_description,
		 merchant_id,
		 merchant_outlet_id,
		 merchant_outlet_name,
		 member_code,
		 member_name,
		 member_mobile,
		 audit_status,
		 auditor,
		 audit_remark,
		 is_delete,
		 order_value
		)
		values
		(
		 #{createTime},
		 #{updateTime},
		 #{clientId},
		 #{starLevel},
		 #{pricePoint},
		 #{productPoint},
		 #{qualityPoint},
		 #{environmentPoint},
		 #{serverPoint},
		 #{commentDescription},
		 #{merchantId},
		 #{merchantOutletId},
		 #{merchantOutletName},
		 #{memberCode},
		 #{memberName},
		 #{memberMobile},
		 #{auditStatus,typeHandler=com.froad.db.extend.EnumTypeHandler},
		 #{auditor},
		 #{auditRemark},
		 #{isDelete},
		 #{orderValue}
		)
	</insert>
	
	<!-- 基础sql 通过分页查询 -->
	<select id="selectOfPage" parameterType="com.froad.cbank.persistent.entity.base.PageEntity" resultMap="merchantOutletCommentResultMap">
		select * from cb_merchant_outlet_comment
		<where>
			<if test="condition != null">
				<if test="condition.clientId != null">
					and client_id = #{condition.clientId}
				</if>
				<if test="condition.starLevel != null">
					and star_level = #{condition.starLevel}
				</if>
				<if test="condition.pricePoint != null">
					and price_point = #{condition.pricePoint}
				</if>
				<if test="condition.productPoint != null">
					and product_point = #{condition.productPoint}
				</if>
				<if test="condition.qualityPoint != null">
					and quality_point = #{condition.qualityPoint}
				</if>
				<if test="condition.environmentPoint != null">
					and environment_point = #{condition.environmentPoint}
				</if>
				<if test="condition.serverPoint != null">
					and server_point = #{condition.serverPoint}
				</if>
				<if test="condition.commentDescription != null">
					and comment_description like CONCAT('%',#{condition.commentDescription},'%' )
				</if>
				<if test="condition.merchantId != null">
					and merchant_id = #{condition.merchantId}
				</if>
				<if test="condition.merchantOutletId != null">
					and merchant_outlet_id = #{condition.merchantOutletId}
				</if>
				<if test="condition.merchantOutletName != null">
					and merchant_outlet_name like CONCAT('%',#{condition.merchantOutletName},'%' )
				</if>
				<if test="condition.memberCode != null">
					and member_code = #{condition.memberCode}
				</if>
				<if test="condition.memberName != null">
					and member_name like CONCAT('%',#{condition.memberName},'%' )
				</if>
				<if test="condition.memberMobile != null">
					and member_mobile = #{condition.memberMobile}
				</if>
				<if test="condition.auditStatus != null">
					and audit_status = #{condition.auditStatus,typeHandler=com.froad.db.extend.EnumTypeHandler}
				</if>
				<if test="condition.auditor != null">
					and auditor = #{condition.auditor}
				</if>
				<if test="condition.auditRemark != null">
					and audit_remark like CONCAT('%',#{condition.auditRemark},'%' )
				</if>
				<if test="condition.isDelete != null">
					and is_delete = #{condition.isDelete}
				</if>
				<if test="condition.orderValue!= null">
					and order_value = #{condition.orderValue}
				</if>
			</if>
		</where>
	</select>
	
	<!-- 基础sql 通过主键查询 -->
	<select id="selectById" parameterType="java.lang.Long" resultMap="merchantOutletCommentResultMap">
		select * from cb_merchant_outlet_comment where id = #{id}
	</select>
	
	<!-- 通过主键更新数据 -->
	<update id="updateById" parameterType="java.lang.Boolean" >
		update cb_merchant_outlet_comment set update_time = #{updateTime}
		
		<if test="starLevel != null">
			, star_level = #{starLevel}
		</if>
		<if test="pricePoint != null">
			, price_point = #{pricePoint}
		</if>
		<if test="productPoint != null">
			, product_point = #{productPoint}
		</if>
		<if test="qualityPoint != null">
			, quality_point = #{qualityPoint}
		</if>
		<if test="environmentPoint != null">
			, environment_point = #{environmentPoint}
		</if>
		<if test="serverPoint != null">
			, server_point = #{serverPoint}
		</if>
		<if test="commentDescription != null">
			, comment_description = #{commentDescription}
		</if>
		<if test="merchantId != null">
			, merchant_id = #{merchantId}
		</if>
		<if test="merchantOutletId != null">
			, merchant_outlet_id = #{merchantOutletId}
		</if>
		<if test="merchantOutletName != null">
			, merchant_outlet_name = #{merchantOutletName}
		</if>
		<if test="memberCode != null">
			, member_code = #{memberCode}
		</if>
		<if test="memberName != null">
			, member_name = #{memberName}
		</if>
		<if test="memberMobile != null">
			, member_mobile = #{memberMobile}
		</if>
		<if test="auditStatus != null">
			, audit_status = #{auditStatus,typeHandler=com.froad.db.extend.EnumTypeHandler}
		</if>
		<if test="auditor != null">
			, auditor = #{auditor}
		</if>
		<if test="auditRemark != null">
			, audit_remark = #{auditRemark}
		</if>
		<if test="isDelete != null">
			, is_delete = #{isDelete}
		</if>
		<if test="orderValue != null">
			, order_value = #{orderValue}
		</if>
		where id = #{id}
	</update>
	
	<select id="selectByCondition" resultMap="merchantOutletCommentResultMap">
		select * from cb_merchant_outlet_comment
		<where>
			<if test="clientId != null">
				and client_id = #{clientId}
			</if>
			<if test="starLevel != null">
				and star_level = #{starLevel}
			</if>
			<if test="pricePoint != null">
				and price_point = #{pricePoint}
			</if>
			<if test="productPoint != null">
				and product_point = #{productPoint}
			</if>
			<if test="qualityPoint != null">
				and quality_point = #{qualityPoint}
			</if>
			<if test="environmentPoint != null">
				and environment_point = #{environmentPoint}
			</if>
			<if test="serverPoint != null">
				and server_point = #{serverPoint}
			</if>
			<if test="commentDescription != null">
				and comment_description like CONCAT('%',#{commentDescription},'%' )
			</if>
			<if test="merchantId != null">
				and merchant_id = #{merchantId}
			</if>
			<if test="merchantOutletId != null">
				and merchant_outlet_id = #{merchantOutletId}
			</if>
			<if test="merchantOutletName != null">
				and merchant_outlet_name like CONCAT('%',#{merchantOutletName},'%' )
			</if>
			<if test="memberCode != null">
				and member_code = #{memberCode}
			</if>
			<if test="memberName != null">
				and member_name like CONCAT('%',#{memberName},'%' )
			</if>
			<if test="memberMobile != null">
				and member_mobile = #{memberMobile}
			</if>
			<if test="auditStatus != null">
				and audit_status = #{auditStatus,typeHandler=com.froad.db.extend.EnumTypeHandler}
			</if>
			<if test="auditor != null">
				and auditor = #{auditor}
			</if>
			<if test="auditRemark != null">
				and audit_remark like CONCAT('%',#{auditRemark},'%' )
			</if>
			<if test="isDelete != null">
				and is_delete = #{isDelete}
			</if>
			<if test="orderValue != null">
				and order_value = #{orderValue}
			</if>
		</where>
	</select>
	
	<!-- 删除 -->
	<delete id="delete" parameterType="java.lang.Long" >
		delete from cb_merchant_outlet_comment where id = #{id}
	</delete>
    
</mapper>