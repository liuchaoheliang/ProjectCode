<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.froad.db.mysql.mapper.ProductMapper">

	<resultMap type="Product" id="productResultMap">
		<id property="id" column="id" />
		<result property="clientId" column="client_id" />
		<result property="merchantId" column="merchant_id" />
		<result property="orgCode" column="org_code" />
		<result property="productId" column="product_id" />
		<result property="isMarketable" column="is_marketable" />
		<result property="createTime" column="create_time" />
		<result property="rackTime" column="rack_time" />
		<result property="downTime" column="down_time" />
		<result property="startTime" column="start_time" />
		<result property="endTime" column="end_time" />
		<result property="type" column="type" />
		<result property="deliveryOption" column="delivery_option" />
		<result property="name" column="name" />
		<result property="fullName" column="full_name" />
		<result property="price" column="price" />
		<result property="cost" column="cost" />
		<result property="marketPrice" column="market_price" />
		<result property="weight" column="weight" />
		<result property="weightUnit" column="weight_unit" />
		<result property="store" column="store" />
		<result property="isBest" column="is_best" />
		<result property="isLimit" column="is_limit" />
		<result property="point" column="point" />
		<result property="briefIntroduction" column="brief_introduction" />
		<result property="introduction" column="introduction" />
		<result property="buyKnow" column="buy_know" />
		<result property="auditState" column="audit_state" />
		<result property="auditOrgCode" column="audit_org_code" />
		<result property="auditStartOrgCode" column="audit_start_org_code" />
		<result property="auditEndOrgCode" column="audit_end_org_code" /> 
		<result property="auditStage" column="audit_stage" />
		<result property="auditTime" column="audit_time" />
		<result property="auditComment" column="audit_comment" />
		<result property="reviewStaff" column="review_staff" />
		<result property="auditStaff" column="audit_staff" />
		<result property="orderValue" column="order_value" />
		<result property="sellCount" column="sell_count" />
		<result property="deliveryMoney" column="delivery_money" />
		<result property="isSeckill" column="is_seckill" />
		<result property="proOrgCode" column="province_agency" />
		<result property="cityOrgCode" column="city_agency" />
		<result property="countryOrgCode" column="county_agency" />
		<result property="categoryTreePath" column="category_tree_path" />
		<result property="merchantName" column="merchant_name" />
		<result property="platType" column="plat_type" />
		<result property="isPoint" column="is_point" />
		<result property="codeUrl" column="code_url" />
	</resultMap>
	
	<sql id="all">
		id,
		client_id,
		merchant_id,
		org_code,
		product_id,
		is_marketable,
		create_time,
		rack_time,
		down_time,
		type,
		delivery_option,
		name,
		full_name,
		price,
		cost,
		market_price,
		weight,
		weight_unit,
		store,
		is_best,
		is_limit,
		point,
		brief_introduction,
		introduction,
		buy_know,
		audit_state,
		audit_org_code,
		audit_start_org_code,
		audit_end_org_code,
		audit_stage,
		audit_time,
		audit_comment,
		review_staff,
		audit_staff,
		order_value,
		sell_count,
		delivery_money,
		is_seckill,
		province_agency,
		city_agency,
		county_agency,
		category_tree_path,
		merchant_name,
		plat_type,
		is_point,
		code_url
	</sql>
	
	<select id="findProductByMerchantId" resultMap="productResultMap">
		SELECT 
			<include refid="all"></include>
			FROM cb_product
		WHERE merchant_id = #{merchantId} and is_marketable = '1' and type = '1'
	</select>

   
</mapper>

