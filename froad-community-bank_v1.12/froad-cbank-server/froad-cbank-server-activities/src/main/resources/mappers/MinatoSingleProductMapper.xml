<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.froad.db.mysql.mapper.MinatoSingleProductMapper">

	<resultMap type="AreaInfo" id="areaInfo">
		<result property="id" column="element_id" />
		<result property="clientId" column="client_id" />
		<result property="name" column="name" />
		<result property="vagueLetter" column="vague_letter" />
		<result property="treePath" column="tree_path" />
		<result property="treePathName" column="tree_path_name" />
		<result property="parentId" column="parent_id" />
		<result property="isEnable" column="is_enable" />
		<result property="areaCode" column="area_code" />
		<result property="longitude" column="longitude" />
		<result property="latitude" column="latitude" />
	</resultMap>
	
	<resultMap type="Location" id="findlocation">
		<result property="latitude" column="latitude" />
		<result property="longitude" column="longitude" />
	</resultMap>
		
	<!-- 查询  Area -->
	<select id="findAreaListInfo" parameterType="java.lang.String" resultMap="areaInfo">
		<![CDATA[
			select * from cb_area a where a.client_id = #{clientId} 
			and a.is_enable = 1 and a.parent_id <> 0 and a.id <> #{areaId}
		]]>
	</select>
	
	<!-- 查找区域坐标信息 -->
	<select id="findAreaLocation" parameterType="java.lang.String" resultMap="findlocation">
		<![CDATA[
			select a.latitude,a.longitude from cb_area a where a.id = #{areaId}
		]]>
	</select>
</mapper>

