<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="complaintCategory">
  <typeAlias alias="complaintCategory" type="com.froad.CB.po.complaint.ComplaintCategory"/>
  <resultMap id="ComplaintCategoryResult" class="complaintCategory" >
    <result column="id" property="id" jdbcType="INTEGER" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="description" property="description" jdbcType="VARCHAR" />
    <result column="order_list" property="orderList" jdbcType="VARCHAR" />
    <result column="path" property="path" jdbcType="VARCHAR" />
    <result column="parent_id" property="parentId" jdbcType="VARCHAR" />
    <result column="state" property="state" jdbcType="VARCHAR" />
    <result column="create_time" property="createTime" jdbcType="VARCHAR" />
    <result column="update_time" property="updateTime" jdbcType="VARCHAR" />
    <result column="remark" property="remark" jdbcType="VARCHAR" />
  </resultMap>
  
  <select id="selectAll" resultMap="ComplaintCategoryResult">
  	select * from complaint_category
  </select>
  
  <select id="selectByPrimaryKey" resultMap="ComplaintCategoryResult" parameterClass="java.lang.Integer" >
     select * from complaint_category where id = #value#
  </select>
  
  <delete id="deleteByPrimaryKey" parameterClass="java.lang.Integer" >
     delete from complaint_category where id = #id#
  </delete>
  
  <insert id="insert" parameterClass="complaintCategory" >
     insert into complaint_category (id, name, description, order_list, path, parent_id, state,
     create_time, update_time, remark)
     values(#id:INTEGER#, #name:VARCHAR#, #description:VARCHAR#, #orderList:VARCHAR#,
     #path:VARCHAR#, #parentId:VARCHAR#, #state:VARCHAR#, DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s"),
     DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s"), #remark:VARCHAR#)
  </insert>
  
  <update id="updateStateById" parameterClass="java.util.HashMap">
  	update complaint_category set state=#state#,update_time = DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s") where id=#id#
  </update>
  
  <update id="updateByPrimaryKeySelective" parameterClass="complaintCategory" >
    update complaint_category  set update_time = DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s")
    <dynamic prepend="" >
      <isNotEmpty prepend="," property="name" >
        name = #name:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="," property="description" >
        description = #description:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="," property="orderList" >
        order_list = #orderList:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="," property="path" >
        path = #path:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="," property="parentId" >
        parent_id = #parentId:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="," property="state" >
        state = #state:VARCHAR#
      </isNotEmpty>
      <isNotEmpty prepend="," property="remark" >
        remark = #remark:VARCHAR#
      </isNotEmpty>
    </dynamic>
    where id = #id:INTEGER#
  </update>
</sqlMap>