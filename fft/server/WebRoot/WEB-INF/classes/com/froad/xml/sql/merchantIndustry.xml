<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="merchantIndustry">
	
	<typeAlias alias="merchantIndustry" type="com.froad.CB.po.MerchantIndustry" />
	
	<resultMap class="merchantIndustry" id="MerchantIndustryResult">
		<result column="id" jdbcType="INTEGER" property="id" />
		<result column="name" jdbcType="VARCHAR" property="name" />
		<result column="description" jdbcType="VARCHAR" property="description" />
		<result column="order_list" jdbcType="VARCHAR" property="orderList" />
		<result column="path" jdbcType="VARCHAR" property="path" />
		<result column="parent_id" jdbcType="VARCHAR" property="parentId" />
		<result column="state" jdbcType="VARCHAR" property="state" />
		<result column="create_time" jdbcType="VARCHAR" property="createTime" />
		<result column="update_time" jdbcType="VARCHAR" property="updateTime" />
		<result column="remark" jdbcType="VARCHAR" property="remark" />
	</resultMap>
	
	<select id="selectByPrimaryKey" parameterClass="java.lang.Integer"
		resultMap="MerchantIndustryResult">
		select * from merchant_industry where id = #id:INTEGER#
	</select>
	
	<select id="selectAll" resultMap="MerchantIndustryResult">
		select * from merchant_industry
	</select>
	
	<delete id="deleteByPrimaryKey" parameterClass="java.lang.Integer">
		delete from merchant_industry where id = #id:INTEGER#
	</delete>
	
	<insert id="insert" parameterClass="merchantIndustry">
		insert into merchant_industry (id, name, description,
		order_list, path, parent_id, state,remark,create_time,update_time) values (#id:INTEGER#, #name:VARCHAR#,
		#description:VARCHAR#, #orderList:VARCHAR#, #path:VARCHAR#,
		#parentId:VARCHAR#, #state:VARCHAR#,#remark:VARCHAR#,
		DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s"),DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s"))
		<selectKey keyProperty="id" resultClass="int">
		 select last_insert_id() as id
		</selectKey>
	</insert>
	
	<update id="updateById" parameterClass="merchantIndustry">
		update merchant_industry set update_time=DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s")
		<dynamic>
			<isNotEmpty prepend="," property="name">
				name = #name:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="description">
				description = #description:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="orderList">
				order_list = #orderList:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="path">
				path = #path:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="parentId">
				parent_id = #parentId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="state">
				state = #state:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="updateTime">
				update_time = #updateTime:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="remark">
				remark = #remark:VARCHAR#
			</isNotEmpty>
		</dynamic>
		where id = #id:INTEGER#
	</update>
</sqlMap>