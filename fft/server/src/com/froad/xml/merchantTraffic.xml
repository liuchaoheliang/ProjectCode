<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="merchantTraffic" >
	
	<typeAlias alias="merchantTraffic" type="com.froad.CB.po.merchant.MerchantTraffic"/>

	<resultMap id="MerchantTrafficResult" class="merchantTraffic" >
	  <result column="id" property="id" jdbcType="INT" />
	  <result column="Merchant_id" property="merchantId" jdbcType="VARCHAR" />
	  <result column="photo_url" property="photoUrl" jdbcType="VARCHAR" />
	  <result column="photo_format_1" property="photoFormat1" jdbcType="VARCHAR" />
	  <result column="photo_format_2" property="photoFormat2" jdbcType="VARCHAR" />
	  <result column="Traffic_MAP_id" property="trafficMAPId" jdbcType="VARCHAR" />
	  <result column="txt_1" property="txt1" jdbcType="VARCHAR" />
	  <result column="txt_2" property="txt2" jdbcType="VARCHAR" />
	  <result column="txt_3" property="txt3" jdbcType="VARCHAR" />
	  <result column="state" property="state" jdbcType="VARCHAR" />
	  <result column="create_time" property="createTime" jdbcType="VARCHAR" />
	  <result column="update_time" property="updateTime" jdbcType="VARCHAR" />
	  <result column="remark" property="remark" jdbcType="VARCHAR" />
	</resultMap>
	
	<select id="selectByPrimaryKey" resultMap="MerchantTrafficResult" parameterClass="java.lang.Integer" >
	    select * from merchant_traffic where id = #id#
	</select>
	
	<delete id="deleteByPrimaryKey" parameterClass="java.lang.Integer" >
	    delete from merchant_traffic where id = #id#
	</delete>
	
	<insert id="insert" parameterClass="merchantTraffic" >
	    insert into merchant_traffic (id, Merchant_id, photo_url, photo_format_1, photo_format_2,
	    Traffic_MAP_id, txt_1, txt_2, txt_3, state, create_time, update_time, remark)
	  values(#id:INT#, #merchantId:VARCHAR#, #photoUrl:VARCHAR#, #photoFormat1:VARCHAR#,
	    #photoFormat2:VARCHAR#, #trafficMAPId:VARCHAR#, #txt1:VARCHAR#, #txt2:VARCHAR#,
	    #txt3:VARCHAR#, #state:VARCHAR#, DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s"), DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s"), #remark:VARCHAR#)
		<selectKey keyProperty="id" resultClass="int">
			select last_insert_id() as id
		</selectKey>
	</insert>
	
	<update id="updateByPrimaryKeySelective" parameterClass="merchantTraffic" >
	  update merchant_traffic set update_time = DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s")
	  <dynamic prepend="set" >
	    <isNotEmpty prepend="," property="merchantId" >
	      Merchant_id = #merchantId:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="," property="photoUrl" >
	      photo_url = #photoUrl:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="," property="photoFormat1" >
	      photo_format_1 = #photoFormat1:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="," property="photoFormat2" >
	      photo_format_2 = #photoFormat2:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="," property="trafficMAPId" >
	      Traffic_MAP_id = #trafficMAPId:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="," property="txt1" >
	      txt_1 = #txt1:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="," property="txt2" >
	      txt_2 = #txt2:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="," property="txt3" >
	      txt_3 = #txt3:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="," property="state" >
	      state = #state:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="," property="remark" >
	      remark = #remark:VARCHAR#
	    </isNotEmpty>
	  </dynamic>
	  where id = #id:INT#
	</update>
	
	<select id="selectMerchantTraffics" resultMap="MerchantTrafficResult" parameterClass="merchantTraffic">
	  select * from merchant_traffic
	  <dynamic prepend="where" >
	   <isNotEmpty prepend="and" property="id" >
	      id = #id:INT#
	    </isNotEmpty>
	    <isNotEmpty prepend="and" property="merchantId" >
	      Merchant_id = #merchantId:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="and" property="photoUrl" >
	      photo_url = #photoUrl:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="and" property="photoFormat1" >
	      photo_format_1 = #photoFormat1:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="and" property="photoFormat2" >
	      photo_format_2 = #photoFormat2:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="and" property="trafficMAPId" >
	      Traffic_MAP_id = #trafficMAPId:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="and" property="txt1" >
	      txt_1 = #txt1:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="and" property="txt2" >
	      txt_2 = #txt2:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="and" property="txt3" >
	      txt_3 = #txt3:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="and" property="state" >
	      state = #state:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="and" property="createTime" >
	      create_time = #createTime:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="and" property="updateTime" >
	      update_time = #updateTime:VARCHAR#
	    </isNotEmpty>
	    <isNotEmpty prepend="and" property="remark" >
	      remark = #remark:VARCHAR#
	    </isNotEmpty>
	  </dynamic>
	</select>
</sqlMap>