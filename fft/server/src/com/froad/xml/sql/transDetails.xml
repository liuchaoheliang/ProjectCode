<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="transDetails">
	<typeAlias alias="transDetails" type="com.froad.CB.po.TransDetails"/>
	
	<resultMap id="TransDetailsResult" class="transDetails">
		<result column="id" property="id" jdbcType="INTEGER" />
		<result column="trans_id" property="transId" jdbcType="INTEGER" />
		<result column="goods_rack_id" property="goodsRackId" jdbcType="VARCHAR" />
		<result column="goods_number" property="goodsNumber" jdbcType="VARCHAR" />
		<result column="buyers_rule_id" property="buyersRuleId" jdbcType="VARCHAR" />
		<result column="buyers_rule_desc" property="buyersRuleDesc" jdbcType="VARCHAR" />
		<result column="seller_rule_id" property="sellerRuleId" jdbcType="VARCHAR" />
		<result column="seller_rule_desc" property="sellerRuleDesc" jdbcType="VARCHAR" />
		<result column="currency" property="currency" jdbcType="VARCHAR" />
		<result column="costprice_total" property="costpriceTotal" jdbcType="VARCHAR" />
		<result column="currency_value" property="currencyValue" jdbcType="VARCHAR" />
		<result column="currency_value_real" property="currencyValueReal" jdbcType="VARCHAR" />
		<result column="bank_points_value_all" property="bankPointsValueAll" jdbcType="VARCHAR" />
		<result column="bank_points_value_real_all" property="bankPointsValueRealAll" jdbcType="VARCHAR" />
		<result column="fft_points_value_all" property="fftPointsValueAll" jdbcType="VARCHAR" />
		<result column="fft_points_value_real_all" property="fftPointsValueRealAll" jdbcType="VARCHAR" />
		<result column="state" property="state" jdbcType="VARCHAR" />
		<result column="create_time" property="createTime" jdbcType="VARCHAR" />
		<result column="update_time" property="updateTime" jdbcType="VARCHAR" />
		<result column="remark" property="remark" jdbcType="VARCHAR" />
	</resultMap>
	
	<select id="selectByPrimaryKey" resultMap="TransDetailsResult"
		parameterClass="java.lang.Integer">
		select * from trans_details where id = #id:INTEGER#
	</select>
	
	<select id="selectByTranId" resultMap="TransDetailsResult"
		parameterClass="java.lang.Integer">
		select * from trans_details where trans_id = #value#
	</select>
	
	<delete id="deleteByPrimaryKey" parameterClass="java.lang.Integer">
		delete from trans_details where id = #id:INTEGER#
	</delete>
	
	<insert id="insert" parameterClass="transDetails">
		insert into trans_details (id, trans_id, goods_rack_id,
		goods_number, buyers_rule_id, buyers_rule_desc, seller_rule_id,
		seller_rule_desc, currency, costprice_total, currency_value,
		currency_value_real, bank_points_value_all,
		bank_points_value_real_all, fft_points_value_all,
		fft_points_value_real_all, state,
		remark,create_time, update_time) values (#id:INTEGER#, #transId:INTEGER#,
		#goodsRackId:VARCHAR#, #goodsNumber:VARCHAR#,
		#buyersRuleId:VARCHAR#, #buyersRuleDesc:VARCHAR#,
		#sellerRuleId:VARCHAR#, #sellerRuleDesc:VARCHAR#,
		#currency:VARCHAR#, #costpriceTotal:VARCHAR#,
		#currencyValue:VARCHAR#, #currencyValueReal:VARCHAR#,
		#bankPointsValueAll:VARCHAR#, #bankPointsValueRealAll:VARCHAR#,
		#fftPointsValueAll:VARCHAR#, #fftPointsValueRealAll:VARCHAR#,
		#state:VARCHAR#,#remark:VARCHAR#,DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s"),DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s"))
		<selectKey keyProperty="id" resultClass="int">
			select last_insert_id() as id
		</selectKey>
	</insert>
	
	<update id="updateStateById" parameterClass="java.util.HashMap">
		update trans_details set update_time =DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s"),state=#state# where id=#id#
	</update>
	
	<update id="updateById" parameterClass="transDetails">
		update trans_details set update_time =DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s")
		<dynamic>
			<isNotEmpty prepend="," property="transId">
				trans_id = #transId:INTEGER#
			</isNotEmpty>
			<isNotEmpty prepend="," property="goodsRackId">
				goods_rack_id = #goodsRackId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="goodsNumber">
				goods_number = #goodsNumber:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="buyersRuleId">
				buyers_rule_id = #buyersRuleId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="buyersRuleDesc">
				buyers_rule_desc = #buyersRuleDesc:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="sellerRuleId">
				seller_rule_id = #sellerRuleId:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="sellerRuleDesc">
				seller_rule_desc = #sellerRuleDesc:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="currency">
				currency = #currency:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="costpriceTotal">
				costprice_total = #costpriceTotal:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="currencyValue">
				currency_value = #currencyValue:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="currencyValueReal">
				currency_value_real = #currencyValueReal:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="bankPointsValueAll">
				bank_points_value_all = #bankPointsValueAll:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="bankPointsValueRealAll">
				bank_points_value_real_all =
				#bankPointsValueRealAll:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="fftPointsValueAll">
				fft_points_value_all = #fftPointsValueAll:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="fftPointsValueRealAll">
				fft_points_value_real_all =
				#fftPointsValueRealAll:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="state">
				state = #state:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="updateTime">
				update_time = #updateTime:VARCHAR#
			</isNotEmpty>
			<isNotEmpty prepend="," property="remark">
				remark = #remark:VARCHAR#
			</isNotEmpty>
		</dynamic>
		where id = #id:INTEGER#
	</update>
</sqlMap>