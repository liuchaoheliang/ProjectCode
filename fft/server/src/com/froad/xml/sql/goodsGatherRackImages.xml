<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >

<sqlMap namespace="goodsGatherRackImages">
	<typeAlias alias="goodsGatherRackImages" type="com.froad.CB.po.GoodsGatherRackImages" />

	<resultMap class="goodsGatherRackImages" id="goodsGatherRackImagesResultMap">
		<result property="id" column="id" jdbcType="INT" />
		<result property="goodsGatherRackId"
			column="goods_gather_rack_id" jdbcType="VARCHAR" />
		<result property="imagesUrl" column="images_url"
			jdbcType="VARCHAR" />
		<result property="state" column="state" jdbcType="VARCHAR" />
		<result property="createTime" column="create_time"
			jdbcType="VARCHAR" />
		<result property="updateTime" column="update_time"
			jdbcType="VARCHAR" />
		<result property="remark" column="remark" jdbcType="VARCHAR" />
	</resultMap>

	<insert id="insertObject" parameterClass="goodsGatherRackImages">
		insert into goods_gather_rack_images (
		id,goods_gather_rack_id,images_url,state,create_time,update_time,remark
		) values (
		#id:INTEGER#,#goodsGatherRackId:VARCHAR#,#imagesUrl:VARCHAR#,#state:VARCHAR#,
		DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s"),DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s"),#remark:VARCHAR#)

		<selectKey keyProperty="id" resultClass="int">
			select last_insert_id() as id
		</selectKey>
	</insert>
	
	<delete id="UpdateObject" parameterClass="goodsGatherRackImages">
		update goods_gather_rack_images 
      	set state = #state:VARCHAR# 
      	where id = #id:INT#
	</delete>
	
	<update id="updateObject" parameterClass="goodsGatherRackImages">
		update goods_gather_rack_images
		set goods_gather_rack_id = #goodsGatherRackId:VARCHAR#,images_url = #imagesUrl:VARCHAR#,
		state = #state:VARCHAR#,update_time = DATE_FORMAT(NOW(),"%Y-%m-%d|%H:%i:%s"),remark = #remark:VARCHAR#
      	where id = #id:INT#
	</update>
	
	<select id="getByPrimaryKey" parameterClass="java.lang.Integer" resultMap="goodsGatherRackImagesResultMap">
		select * from goods_gather_rack_images where id = #id:INT#
	</select>
	
	<select id="getAll" resultMap="goodsGatherRackImagesResultMap">
		select * from goods_gather_rack_images
	</select>
	
	<select id="getByGoodsGatherRackId" parameterClass="java.lang.String" resultMap="goodsGatherRackImagesResultMap">
		select * from goods_gather_rack_images where goods_gather_rack_id = #goodsGatherRackId:VARCHAR#
	</select>	
	
	
	
	


</sqlMap>